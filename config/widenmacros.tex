\renewcommand\gets{\mathrel{:=}}
\newcommand\bwtype[3][\menv]{#1 \derives #2 : \bits{#3}}
\newcommand\bwoptype[3][\menv]{#2 : \bits{#3} \in #1}
\newcommand\bwtypea[2]{#1 \derives #2} % \mbox{ is OK}}
\newcommand\ftype[3][\Gamma]{#1 \derives #2 :: #3}
\newcommand\foptype[2]{#1 :: #2}
\newcommand\eval[3][\rho]{#1 \derives #2 \Downarrow #3}

\newcommand\derv[1][D]{\ensuremath{\mathcal #1}}

% fill type index
\newcommand\fidx[2][\tau]{{#1}{\scriptstyle {#2}}}
\newcommand\xidx[1]{\fidx[\sigma]{#1}}

% redefine fill type and indexing
\renewcommand\fidx[2][\tau]{{#1}_{#2}}

% width type ``index''
\newcommand\widx[2]{\ensuremath{{{#1}}_{{#2}}}}

\newcommand\fty[2][\tau]{{#1}[{#2}]}
\newcommand\xty[1]{\fty[\sigma]{#1}} 

\newcommand{\tone}{\fidx{1}}
\newcommand{\ttwo}{\fidx{2}}
\newcommand{\tthree}{\fidx{3}}

\newcommand\n[1]{\widx{n}{#1}}
\newcommand\w[1]{\widx{w}{#1}}
\newcommand\m[1]{\widx{m}{#1}}

\newcommand\cross{\times}
\newcommand\arrow{\rightarrow}
\newcommand\oplusx[1]{\ensuremath{\oplus_{#1\leftarrow\widx{#1}{1}\cross\widx{#1}{2}}}}
\newcommand\oplusw{\oplusx{w}}
\newcommand\oplusn{\oplusx{n}}
\newcommand\oplusm{\oplusx{m}}

\newcommand{\vbar}{\ensuremath{\;|\;}}
\newcommand{\hash}{\#}
\newcommand{\bits}[1]{{#1}}
\newcommand{\ttperc}{\ensuremath{\mbox{\%}}}
\newcommand{\st}{\ensuremath{\ni}}
\newcommand{\derives}{\ensuremath{\vdash}}
\newcommand{\trans}[1]{\ensuremath{\;\smash[b]{\underset{\mbox{\raisebox{3.5pt}[0em][0em]{$\scriptscriptstyle{#1}$}}}{\hookrightarrow}}\;}}
\newcommand{\tx}[6][\tenv,\menv]{#1 \derives #2 \trans{#3} #4 :: #5 : #6}

\newcommand\oname[1]{\ensuremath{\operatorname{#1}}}
\newcommand{\sx}[2]{\oname{sx}_{{#1} \leftarrow {#2}}}
\newcommand{\zx}[2]{\oname{zx}_{{#1} \leftarrow {#2}}}
\newcommand{\gx}[2]{\oname{gx}_{{#1} \leftarrow {#2}}}
\newcommand{\xx}[2]{\oname{\sigma x}_{{#1} \leftarrow {#2}}}
\newcommand{\sxlo}[2]{\oname{sxlo}_{{#1} \leftarrow {#2}}}
\newcommand{\zxlo}[2]{\oname{zxlo}_{{#1} \leftarrow {#2}}}
\newcommand{\xxlo}[2]{\oname{\sigma xlo}_{{#1} \leftarrow {#2}}}
\newcommand{\xxloname}{\oname{\sigma xlo}}
\newcommand{\sxloname}{\oname{sxlo}}
\newcommand{\zxloname}{\oname{zxlo}}
\newcommand{\xxname}{\oname{\sigma x}}
\newcommand{\sxname}{\oname{sx}}
\newcommand{\zxname}{\oname{zx}}
\newcommand{\loname}{\oname{lo}}
\newcommand{\lo}[2]{\oname{lo}_{{#1} \leftarrow {#2}}}
\newcommand{\fits}[2]{\oname{fits}_{{#1},{\bits{{#2}}}}}
\newcommand{\stname}{\ensuremath{\mathrm{s}}}
\newcommand{\ztname}{\ensuremath{\mathrm{z}}}
\newcommand{\gtname}{\ensuremath{\mathrm{g}}}
\newcommand{\htname}{\ensuremath{\mathrm{h}}}
\newcommand{\otname}{\ensuremath{\mathrm{o}}}
\newcommand{\s}[1]{\fty[\stname]{#1}}
\newcommand{\z}[1]{\fty[\ztname]{#1}}
\newcommand{\g}[1]{\fty[\gtname]{#1}}
\newcommand{\h}[1]{\fty[\htname]{#1}}
\newcommand{\rul}[1]{\ensuremath{\mbox{\textsc{#1}}}}

\newcommand{\f}{\ensuremath{\mathrm{f}}}
\newcommand{\ff}[2]{\oname{f2f}_{{#1} \leftarrow {#2}}}

\newcommand{\semeq}{\ensuremath{\cong}}
\newcommand{\uns}{\ensuremath{\oname{\mathcal{U}}}}

\newcommand{\menv}{\ensuremath{M}}
\newcommand{\msenv}{\ensuremath{S}}
\newcommand{\mtenv}{\ensuremath{T}}
\newcommand{\tenv}{\ensuremath{\Gamma}}

\newcommand{\e}{\ensuremath{e'}}
\renewcommand{\b}{\ensuremath{b'}}

\newcommand{\polymach}{\ensuremath{\menv^\infty}}

\newcommand{\dom}{\ensuremath{\oname{dom}}}

\newcommand{\sss}{\scriptscriptstyle}

\newcommand{\agree}[1]{\ensuremath{\stackrel{\scriptscriptstyle{{#1}}}{\sim}}}
\renewcommand{\agree}[1]{\ensuremath{\sim_{{#1}}}}

\renewcommand{\TirName}[1]{\textsc{{#1}}}

\newcommand{\sidecond}[1]{\ensuremath{({#1})}}
